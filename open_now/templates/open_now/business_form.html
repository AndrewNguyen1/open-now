{% extends "open_now/base.html" %}
{% load static %}
{% load crispy_forms_tags %}
{% block page-title %}
Submit a Business - OpenNow
{% endblock page-title %}

{% block top-header %}
Submit a Business{% endblock top-header %}

{% block p-lead %}
<strong>Don't see your favourite business listed?</strong> Submit a new business to be listed on OpenNow.
{% endblock p-lead %}

{% block upper-body %}

{% endblock upper-body %}

{% block body %}
<form method="post" class="row g-3">
    {% csrf_token %}
    <div class="col-12">
        {{form.business_name | as_crispy_field}}
    </div>
    <div class="col-12">
        {{form.description | as_crispy_field}}
    </div>
    <div class="col-md-3">
        {{form.business_category | as_crispy_field}}
    </div>
    <div class="col-md-5">
        {{form.website | as_crispy_field}}
    </div>
    <div class="col-md-4">
        {{form.phone_number | as_crispy_field}}
    </div>
    <div class="col-12">
        <a class="btn btn-danger" href="{% url 'open_now:business_list' %}" role="button">Cancel</a>
        <button type="button" class="btn btn-success" data-bs-toggle="modal" data-bs-target="#submitNewBusinessModal">Submit New Business</button>
    </div>

    <!-- modal to confirm new business submission -->
    <div class="modal fade" id="submitNewBusinessModal" tabindex="-1" aria-labelledby="submitNewBusinessModal" aria-hidden="true" style="word-wrap: break-word">
        <div class="modal-dialog modal-dialog-centered" style="word-wrap: break-word">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="submitNewBusinessLabel">Submit New Business?</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body text-break" style="word-wrap: break-word">
                    Submitting a new business to OpenNow is permanent, and cannot be edited or deleted. Please confirm all details entered are correct. <strong>Are you sure you want to submit a new business?</strong>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Cancel</button>
                    <button type="submit" class="btn btn-success">Submit New Business</button>
                </div>
            </div>
        </div>
    </div>
</form>
{% endblock body %}

{% block body-non-para %}
{% endblock body-non-para %}